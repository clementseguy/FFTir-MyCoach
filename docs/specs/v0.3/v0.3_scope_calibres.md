# Calibres

## Status

| ID  | Feature | Description courte | Lot | État |
|-----|---------|--------------------|-----|------|
| C01 | Liste calibres configurable | Liste simple dans config.yaml (priorité config.local.yaml) | A | à faire |
| C02 | Autocomplétion + autoremplacement | Saisie assistée: remplacement auto si match unique; suggestions si ambigu | A | à faire |
| C03 | Option "Autre : <texte>" | Choix "Autre" qui insère "Autre : " et laisse saisir librement | A | à faire |
| C04 | MAJ formulaires sessions | Appliquer aide sur: prévues (création/édition), wizard, réalisées (création/édition) | A | à faire |
| C05 | Préférence calibre par défaut | Paramètre utilisateur (Hive) pour préremplir le champ | B | à faire |
| C06 | Normalisation opportuniste | Sans migration: aligner à l’édition (ne pas écraser l’historique) | A | à faire |
| C07 | Tests ciblés | Autocomplétion, cas ambigus, préremplissage par préférence | B | à faire |
| C08 | Statistiques par calibre | Graphe moyennes par calibre | C | abandonné (v0.3) |
| C09 | Changement de modèle | Enum/VO au lieu de String | C | abandonné (v0.3) |

## Calibres harmonisés

1. Harmoniser la liste des calibres
Le champ "calibre" doit rester libre (string) mais l'app doit guider l'utilsiateur et faciliter la saisie.
    - Création d'une liste de calibres habituels
    - Cette liste doit être facilement configurable (config.yaml)
    - En mode saisie, cette liste est proposée à l'utilisateur, qui peut choisir un calibre de la liste pour remplir le champ "calibre"
    - Autocomplétion sur le champ
        - Exemple 1 : si l'utilisateur remplit "22", on met ".22 LR" à la place
        - Exemple 2 : "45" devient ".45 ACP"
    - Liste des calibres : .22 LR, .32 S&W Long, 9×19 mm (9 mm), .38 Special, .357 Magnum, .380 ACP, .40 S&W, .45 ACP, Autre

2. Formulaires à mettre à jour :
    - Sessions prévues : création et édition
    - Sessions prévues : wizard
    - Sessions réalisées : création et édition

## Préférences : choisir un calibre par défaut

1. Autoriser l'utilisateur à choisir un calibre par défaut dans les paramètres (dans la même section que la Prise 1 main/2 mains)

2. Si cette préférence est non vide, les champs "calibre" sont préremplis avec cette valeur.