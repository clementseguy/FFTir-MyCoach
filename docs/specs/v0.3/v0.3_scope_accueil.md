# Accueil

## Statut

(tableau habituel de suivi)

## Statistiques des Sessions

### Simplifier la vue "Accueil"

1. Présenter 2 onglets dans cette page : Synthèse & Avancé. L'onglet "Synthèse" est présenté par défaut.

(proposer d'autres formats adaptés au mobile, pour simplifier la vue des stats, tout en gardant des stats avancées)

2. Dans "Synthèse", présenter (dans l'ordre) :
    - Card avec moyenne points 30j, groupement moy 30J, Best série, Sessions ce mois (existant, à traduire)
    - Evolution points par série + tendance (SMA3) (existant)
    - Evolution groupement (cm) (existant)
    - Répartition catégories (existant)
    - Distribution points (30j) (existant)

3. Dans "Avancé", présenter (dans l'ordre) :
    - Analyse avancée (les 4 labels : consistency, progression, distance fréquente, catégorie dominante) (existant)
    - Card "Rolling 30j vs 60j" (existant, à traduire)
    - Labels "Streak", "Charge" et "Best groupement" (existant, à traduire)
    - Corrélation Points / Groupement (existant)
    - Répartition distance (30j) (existant)

### Simplifier la vue "Accueil" 2

Supprimer la section "mes dernières sessions" (éviter code orphelin)

### Voir les Stats "1 main / 2 mains"

1. Dans l'onglet "Avancé" : Ajouter un graphe qui affiche le score et le groupement, à 1 main, sur les x dernières séries (x = identique aux graphes "évolutions points par série" et "groupement")

2. Dans l'onglet "Avancé" : Ajouter un graphe qui affiche le score et le groupement, à 2 mains, sur les x dernières séries (x = identique aux graphes "évolutions points par série" et "groupement")

### Documenter et expliquer

Documenter et expliquer les statistiques, particluièrement les stats suivantes :
- Tendance SMA3
- Rolling 30j vs 60j
- Charge
- Consistency

### Améliorations mineures

1. Les titres des graphes, tableaux, ... sont **tous** centrés, au-dessus du composant associé

2. Les légendes sont toujorus en dessous du composant

3. Renommer la page Accueil en (nom à trouver, plus parlant et plus "pro")

4. Valider que **toutes** les stats s'apuient uniquement sur les sessions "réalisées". Si ce n'est pas le cas, corriger.

### Notes déplacées depuis statistiques.md (à implémenter ultérieurement)

Ces éléments NE SONT PAS implémentés dans v0.3 mais cadrent les évolutions prévues :


### Décisions Q11–Q15 (03/10/2025)

| # | Sujet | Décision | Détails / Portée |
|---|-------|----------|------------------|
| 11 | Exclusion sessions "prévue" | Exclure totalement | Ignorer toute session au statut `prévue` (et ses séries) dans TOUS les calculs stats. Implémenter un filtre unique dans `StatsService` (et Rolling) avant flatten. |
| 12 | Scatter (corrélation) | Réévaluer fenêtre | 10 dernières séries = compromis lisible; possibilité d'une version 30j évaluée après tests lisibilité. Voir options ci-dessous. |
| 13 | Placeholders UI | Oui (layout stable) | Afficher placeholders "—" plutôt que masquer pour éviter reflow et conserver pédagogie utilisateur. |
| 14 | Normalisation groupement | Différée v0.4 | Ajouter dans backlog v0.4: mention ou normalisation potentielle par distance si nécessaire. |
| 15 | Politique records | Aucune évolution | Pas de persistance supplémentaire, pas de tolérance; recalcul simple conservé pour v0.3. |

### Scatter – Options à évaluer (issue dérivée Q12)

Objectif: conserver lisibilité tout en reflétant mieux la tendance réelle.

1. Option A (Actuel conservé) : Dernières 10 séries (max). Simplicité, très lisible, faible représentativité si volume élevé.
2. Option B (Fenêtre 30 jours brute) : Toutes les séries dans les 30 derniers jours. Risque de densité élevée → chevauchement.
3. Option C (Fenêtre 30 jours + cap) : Séries 30j triées par date, ne garder que les N plus récentes si > N (ex: N=40). Ratio lisibilité / fraîcheur.
4. Option D (Fenêtre 30j + sous-échantillonnage) : Si >K points (ex: K=60), appliquer un downsampling simple (p.ex. prendre 1 point sur 2 ou un algorithme de Largest-Triangle-Three-Buckets) pour lisibilité tout en conservant l'enveloppe.
5. Option E (Fenêtre adaptative) : Si séries 30j <= 20 → tout afficher; 21–60 → cap; >60 → downsample.

Recommandation initiale: commencer par C (cap 30j avec N=40) ou E (adaptative) pour un meilleur compromis, puis mesurer.

Actions futures (si validées):
- Implémenter structure de stratégie (enum ScatterMode { last10, window30Cap, adaptive }) pour test rapide.
- Ajouter métrique interne (compter nb séries filtrées) pour itérations futures.

### Backlog v0.4 (ajouts issus des décisions)
- Filtrage normalisation/annotation groupement par distance (clarification de l'unité ou normalisation future).
- Potentielles améliorations scatter (mode adaptatif, downsampling léger, message dynamique sur densité). 
